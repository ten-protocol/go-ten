<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Obscuro Gateway</title>
    <link rel="icon" type="image/png" sizes="32x32" href="favicon.ico" />
    <script
      src="https://cdn.ethers.io/lib/ethers-5.2.umd.min.js"
      type="application/javascript"
    ></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script type="module" src="javascript.js"></script>
    <link rel="stylesheet" href="style.css" />
    <script
      strategy="lazyOnload"
      src="https://www.googletagmanager.com/gtag/js?id='G-RPFRRG1S7F'"
    ></script>
    <script id="google-analytics">
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());
      gtag("config", "G-RPFRRG1S7F");
    </script>
  </head>

  <body>
    <div class="container-fluid">
      <img src="ten.svg" alt="Ten logo" class="logo" />
    </div>

    <div class="spinner" id="spinner"></div>

    <div class="wrapper">
      <div class="card-track">
        <div class="card">
          <div class="card-image">
            <div class="begin-box" id="begin-box">
              <h2 id="welcome">Welcome to the Obscuro Gateway</h2>
              <form>
                <div id="information">
                  Three clicks to setup encrypted communication between MetaMask
                  and the Obscuro Network.:
                  <ol>
                    <li>Hit Connect to Obscuro and start your journey</li>
                    <li>
                      Allow MetaMask to switch networks to the Obscuro Testnet
                    </li>
                    <li>
                      Sign the <b>Signature Request</b> (this is not a
                      transaction)
                    </li>
                  </ol>
                </div>

                <span id="moreInfo">
                  <button type="button">More info</button>
                </span>

                <br />
                <div id="information2">
                  You are set up on Obscuro. Your connected accounts are below:
                </div>
                <a id="join" href="#">
                  <span></span>
                  <span></span>
                  <span></span>
                  <span></span>
                  Connect to Obscuro Testnet
                </a>
                <table id="accountsTable" border="1">
                  <thead>
                    <tr>
                      <th>Account</th>
                      <th>Connected</th>
                    </tr>
                  </thead>
                  <tbody id="tableBody">
                    <!-- Rows will be added here -->
                  </tbody>
                </table>
                <button
                  class="btn btn-primary btn-lg btn-block mb-3 joined-button"
                  id="revokeUserID"
                >
                  Revoke Accounts
                </button>
                <button
                  class="btn btn-primary btn-lg btn-block mb-3 joined-button"
                  id="requestTokens"
                  onclick=" window.open('https://discord.gg/HSPwgH89YK','_blank')"
                >
                  Request tokens on Discord
                </button>
                <p id="status"></p>
              </form>
            </div>
          </div>
          <div class="card-gradient"></div>
          <div class="card-letters"></div>
        </div>
      </div>
    </div>

    <div id="versionDisplay"></div>

    <div id="modal-container">
      <div class="modal-background">
        <div class="modal">
          <p>
            By connecting your wallet to Obscuro and signing the signature
            request you will get a unique user id, which is also your viewing
            key. It is contained in the RPC link and unique for each user. Do
            not share this unless you want others to see the details of your
            transactions.
          </p>

          <p>
            Signing the Signature Request is completely secure. It’s not a
            transaction so cannot spend any of your assets and it doesn’t give
            Obscuro control over your account.
          </p>
          <p>
            Basic RPC URL: https://testnet.obscu.ro
            <br />
            Chain ID: 443
          </p>
        </div>
      </div>
    </div>
  </body>
</html>
